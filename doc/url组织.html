<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        ul {
            overflow: hidden;
            word-break: break-all;
        }

        li {
            margin-bottom: 1em;
        }
    </style>
</head>
<body>
<h2>服务号标签</h2>
<ul id="list">
</ul>
<h2>服务端特殊链接</h2>
<ul id="link"></ul>
</body>

<script data-msg="创建连接">
    function createLink(realUrl){
        return `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx38471b86e45e684f&redirect_uri=${
            encodeURIComponent(`https://hachiseedland-dev.hachi-tech.com/wechat-mobile/wx/redirect?forwordUrl=${
                encodeURIComponent(realUrl)}`)
        }&response_type=code&scope=snsapi_base&state=1#wechat_redirect`
    }
</script>
<script data-msg="创建连接">
    //  本地服务环境
    // const basicUrl = 'http://192.168.100.128:8080/wechat-pay/20210108/#';
    //  本地开发环境
    // const basicUrl = 'http://192.168.100.128:8088/#';
    //  dev环境
    // const basicUrl = 'https://hachiseedland-dev.hachi-tech.com/wechat-pay/20210108/#';
    const basicUrl = 'https://wygzh-test.seedland.cc/wechat-pay/20210108/#';

    ((dataList) => {
        dataList.forEach(({name, url}) => {
            //  报事报修
            const resultUrl = createLink(`${basicUrl}${url}`);
            const li = document.createElement('li');
            li.innerText = `${name}\n${resultUrl}`;
            list.appendChild(li);
        });
    })(
        [
            {name: '城市资讯', url: '/PhasetwoCityInformationList'},
            {name: '社区文化', url: '/PhasetwoHomeLetterList?subjectId=33'},

            {name: '物业缴费', url: '/wechat-pay/PayIndex'},
            {name: '活动报名', url: '/PhasetwoActivityList'},
            {name: '房屋报修', url: '/AddRepair/1'},
            {name: '投诉建议', url: '/ComplaintSuggestions'},
            {name: '社区通知', url: '/PhasetwoHomeLetterList?subjectId=35'},

            {name: '我的中心', url: '/'},
            {name: '账号登录', url: '/SubmitCertification'},
        ]
    );
</script>
<script>
    //  预约收楼通知书地址
    // const HandInBuildingNotice = createLink(basicUrl + `/HandInBuildingNotice?orderDetailId=1`);
    // console.log(HandInBuildingNotice);
    //

    ((dataList) => {
        dataList.forEach(({name, url}) => {
            //  报事报修
            const resultUrl = createLink(`${basicUrl}${url}`);
            const li = document.createElement('li');
            li.innerText = `${name}\n ${resultUrl}`;
            link.appendChild(li);
        });
    })(
        [
            {
                name: '城市、业主家书文章详情url\n参数是 /PhasetwoArticle/:id\n前端代码流程有问题？\n下面的连接是/PhasetwoArticle/65',
                url: '/PhasetwoArticle/65'
            },
            {name: '便民文章详情url\n需要一个int参数 /PhasetwoPeopleInfoListDetail/:id', url: '/PhasetwoPeopleInfoListDetail/65'},
            {
                name: '活动列表跳转微信端url\n参数是 /PhasetwoActivityListDetail/:id \n目前返回的数据都一样？\n下面的连接是/PhasetwoActivityListDetail/50',
                url: '/PhasetwoActivityListDetail/50'
            },
            {
                name: '问卷推送跳转微信端url\n参数是 /PhasetwoMyQuestionnaire/:type/:id/:isDone \n需测试\n下面的连接是/PhasetwoMyQuestionnaire/1/1/2',
                url: '/PhasetwoMyQuestionnaire/1/1/2'
            },
            {
                name: '扫描二维码拼接活动id\n参数是 /PhasetwoActivitySignInConfirm/:activityId \n需测试\n下面的连接是/PhasetwoActivitySignInConfirm/id',
                url: '/PhasetwoActivitySignInConfirm/id'
            }
        ]
    );
</script>
<script>
    //  活动报名
    const activity50 = createLink(basicUrl + `/PhasetwoActivityListDetail/50`);
    console.log(activity50);
    //  http://192.168.100.128:8088/#/PhasetwoActivityListDetail/50
    const activity53 = createLink(basicUrl + `/PhasetwoActivityListDetail/53`);

</script>
</html>
